RewriteEngine On
RewriteBase /

# Force MIME types - Bu çok önemli
<IfModule mod_mime.c>
    AddType application/javascript .js
    AddType application/javascript .mjs
    AddType application/javascript .jsx
    AddType text/css .css
    AddType text/html .html
    AddType application/json .json
    AddType image/svg+xml .svg
    AddType font/woff2 .woff2
    AddType font/woff .woff
    AddType font/ttf .ttf
    AddType image/png .png
    AddType image/jpg .jpg
    AddType image/jpeg .jpeg
    AddType image/gif .gif
    AddType image/webp .webp
    AddType image/ico .ico
</IfModule>

# Hostinger için özel ayarlar - MIME type zorla
<IfModule mod_headers.c>
    <FilesMatch "\.(js|mjs|jsx)$">
        Header always set Content-Type "application/javascript; charset=utf-8"
        Header always set X-Content-Type-Options nosniff
    </FilesMatch>

    <FilesMatch "\.css$">
        Header always set Content-Type "text/css; charset=utf-8"
    </FilesMatch>

    <FilesMatch "\.(png|jpg|jpeg|gif|webp|ico|svg)$">
        Header always set Cache-Control "public, max-age=31536000"
    </FilesMatch>
</IfModule>

# Alternative MIME type forcing
RemoveType .js .css
AddType application/javascript .js
AddType text/css .css

# Security headers
<IfModule mod_headers.c>
    Header always set X-Content-Type-Options nosniff
    Header always set X-Frame-Options SAMEORIGIN
    Header always set X-XSS-Protection "1; mode=block"
</IfModule>

# Disable directory browsing
Options -Indexes

# Handle React Router (catch all) - En sonda olmalı
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^/assets/
RewriteCond %{REQUEST_URI} !\.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot|json|xml)$
RewriteRule ^(.*)$ /index.html [L,QSA]

# Error pages
ErrorDocument 404 /index.html
ErrorDocument 500 /index.html
